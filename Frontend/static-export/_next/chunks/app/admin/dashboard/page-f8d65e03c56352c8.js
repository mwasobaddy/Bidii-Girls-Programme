(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{677:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(5155),s=a(2115),n=a(7168),i=a(8482),l=a(7580),o=a(9946);let c=(0,o.A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),d=(0,o.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var u=a(5040);let m=(0,o.A)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);var h=a(7213);let f=(0,o.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var x=a(6874),p=a.n(x),g=a(7566),y=a(7446);function j(){let[e,t]=(0,s.useState)({sponsors:0,projects:0,campaigns:0,stories:0,blog:0,gallery:0,team:0,categories:0}),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[x,p]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async()=>{o(!0),p(null);try{let[s,i]=await Promise.all([(0,y.wx)(),(0,y.tS)()]);if(s.success)t(s.data);else throw Error(s.message||"Failed to fetch dashboard stats");if(i.success){var e,a,r;let t=[],s=1;null===(e=i.data.recent_blogs)||void 0===e||e.forEach(e=>{t.push({id:s++,type:"blog post",action:"created",itemName:e.title,timestamp:e.created_at})}),null===(a=i.data.recent_projects)||void 0===a||a.forEach(e=>{t.push({id:s++,type:"project",action:"created",itemName:e.title,timestamp:e.created_at})}),null===(r=i.data.recent_campaigns)||void 0===r||r.forEach(e=>{t.push({id:s++,type:"campaign",action:"created",itemName:e.title,timestamp:e.created_at})}),t.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),n(t.slice(0,10))}}catch(e){console.error("Error fetching dashboard data:",e),p("Failed to load dashboard data")}finally{o(!1)}})()},[]),i)?(0,r.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#e51083]"}),(0,r.jsx)("p",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]}):x?(0,r.jsx)(g.a,{message:x}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"Overview of your website's content and recent activity"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsx)(v,{title:"Sponsors",value:e.sponsors.toString(),icon:(0,r.jsx)(l.A,{className:"h-5 w-5 text-blue-600"}),link:"/admin/sponsors"}),(0,r.jsx)(v,{title:"Projects",value:e.projects.toString(),icon:(0,r.jsx)(c,{className:"h-5 w-5 text-green-600"}),link:"/admin/projects"}),(0,r.jsx)(v,{title:"Campaigns",value:e.campaigns.toString(),icon:(0,r.jsx)(d,{className:"h-5 w-5 text-orange-600"}),link:"/admin/campaigns"}),(0,r.jsx)(v,{title:"Stories",value:e.stories.toString(),icon:(0,r.jsx)(u.A,{className:"h-5 w-5 text-purple-600"}),link:"/admin/stories"}),(0,r.jsx)(v,{title:"Blog Posts",value:e.blog.toString(),icon:(0,r.jsx)(m,{className:"h-5 w-5 text-yellow-600"}),link:"/admin/blog"}),(0,r.jsx)(v,{title:"Gallery Images",value:e.gallery.toString(),icon:(0,r.jsx)(h.A,{className:"h-5 w-5 text-pink-600"}),link:"/admin/gallery"}),(0,r.jsx)(v,{title:"Team Members",value:e.team.toString(),icon:(0,r.jsx)(l.A,{className:"h-5 w-5 text-indigo-600"}),link:"/admin/team"}),(0,r.jsx)(v,{title:"Categories",value:e.categories.toString(),icon:(0,r.jsx)(f,{className:"h-5 w-5 text-red-600"}),link:"/admin/categories"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(b,{title:"Add Sponsor",icon:(0,r.jsx)(l.A,{className:"h-5 w-5"}),href:"/admin/sponsors"}),(0,r.jsx)(b,{title:"New Project",icon:(0,r.jsx)(c,{className:"h-5 w-5"}),href:"/admin/projects"}),(0,r.jsx)(b,{title:"Write Blog Post",icon:(0,r.jsx)(m,{className:"h-5 w-5"}),href:"/admin/blog"}),(0,r.jsx)(b,{title:"Upload Gallery Image",icon:(0,r.jsx)(h.A,{className:"h-5 w-5"}),href:"/admin/gallery"})]})]})}function v(e){let{title:t,value:a,icon:s,link:n}=e;return(0,r.jsx)(p(),{href:n,children:(0,r.jsx)(i.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer h-full",children:(0,r.jsx)(i.Wu,{className:"pt-6 h-full",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:t}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:a})]}),(0,r.jsx)("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s})]})})})})}function b(e){let{title:t,icon:a,href:s}=e;return(0,r.jsx)(p(),{href:s,className:"block",children:(0,r.jsxs)(n.$,{variant:"outline",className:"w-full justify-start h-12",children:[(0,r.jsx)("div",{className:"mr-3",children:a}),t]})})}},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},5040:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},5339:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6654:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=a(2115);function s(e,t){let a=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=a.current;e&&(a.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(a.current=n(e,r)),t&&(s.current=n(t,r))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var r=a(5155),s=a(2115),n=a(9708),i=a(2085),l=a(3999);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:a})),ref:t,...d})});c.displayName="Button"},7213:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},7446:(e,t,a)=>{"use strict";a.d(t,{GB:()=>n,c:()=>i,jy:()=>l,ly:()=>o,tS:()=>d,wx:()=>c,xo:()=>s});let r="https://bidiigirlsprogramme.org/api";async function s(){let e=await fetch("".concat(r,"/campaigns"));if(!e.ok)throw Error("Failed to fetch campaigns");return e.json()}async function n(){let e=await fetch("".concat(r,"/team"));if(!e.ok)throw Error("Failed to fetch team members");return e.json()}async function i(e){let t=await fetch("".concat(r,"/team"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create team member");return t.json()}async function l(e,t){let a=await fetch("".concat(r,"/team/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update team member");return a.json()}async function o(e){if(!(await fetch("".concat(r,"/team/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete team member")}async function c(){let e=await fetch("".concat(r,"/dashboard/stats"));if(!e.ok)throw Error("Failed to fetch dashboard stats");return e.json()}async function d(){let e=await fetch("".concat(r,"/dashboard/recent-activity"));if(!e.ok)throw Error("Failed to fetch recent activity");return e.json()}},7566:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var r=a(5155),s=a(5339);function n(e){let{message:t}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center p-8 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(s.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"Database Error"}),(0,r.jsx)("p",{className:"text-red-600 dark:text-red-300 mb-4",children:t}),(0,r.jsx)("p",{className:"text-sm text-red-500 dark:text-red-400",children:"Please check your database connection or contact the administrator."})]})})}},7580:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8482:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l});var r=a(5155),s=a(2115),n=a(3999);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},9189:(e,t,a)=>{Promise.resolve().then(a.bind(a,677))}},e=>{var t=t=>e(e.s=t);e.O(0,[455,874,441,684,358],()=>t(9189)),_N_E=e.O()}]);