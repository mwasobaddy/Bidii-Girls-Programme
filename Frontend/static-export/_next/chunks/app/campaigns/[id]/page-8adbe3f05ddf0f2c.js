(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{1076:(e,a,s)=>{Promise.resolve().then(s.bind(s,6304))},2355:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3052:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5339:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},6304:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>w});var t=s(5155),r=s(2115),n=s(5695),l=s(7168),i=s(8482),c=s(8145),d=s(5339),o=s(7550),m=s(9074),x=s(6516),h=s(6785);let u=(0,s(9946).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var g=s(2355),f=s(3052),p=s(6874),j=s.n(p),y=s(6766),v=s(5752);function b(e){if(!e)return"/placeholder.svg";if(e.startsWith("http")||e.startsWith("data:"))return e;let a="https://bidiigirlsprogramme.org/api".replace("/api","");return"".concat(a).concat(e)}function N(e){let{message:a}=e;return(0,t.jsx)("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-center max-w-md mx-auto",children:(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-8",children:[(0,t.jsx)(d.A,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-red-800 dark:text-red-200 mb-2",children:"Database Connection Error"}),(0,t.jsx)("p",{className:"text-red-600 dark:text-red-300 mb-6",children:a}),(0,t.jsx)(j(),{href:"/campaigns",children:(0,t.jsxs)(l.$,{className:"bg-[#e51083] hover:bg-[#c50e73]",children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Back to Campaigns"]})})]})})})}function w(){let e=(0,n.useParams)(),[a,s]=(0,r.useState)(0),[d,p]=(0,r.useState)(null),[w,k]=(0,r.useState)(!0),[A,C]=(0,r.useState)(null);if((0,r.useEffect)(()=>{async function a(){try{k(!0);let a=await fetch("/api/campaigns/".concat(e.id));if(!a.ok){if(404===a.status)C("Campaign not found");else{let e=await a.json();C(e.error||"Failed to fetch campaign")}return}let s=await a.json();p(s)}catch(e){console.error("Error fetching campaign:",e),C("Failed to connect to the database. Please check your database configuration.")}finally{k(!1)}}e.id&&a()},[e.id]),w)return(0,t.jsx)("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#e51083] mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading campaign..."})]})});if(A)return(0,t.jsx)(N,{message:A});if(!d)return(0,t.jsx)("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Campaign Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The campaign you're looking for doesn't exist or has been removed."}),(0,t.jsx)(j(),{href:"/campaigns",children:(0,t.jsxs)(l.$,{className:"bg-[#e51083] hover:bg-[#c50e73]",children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Back to Campaigns"]})})]})});let _=(d.goal_amount||0)>0?Math.min((d.raised_amount||0)/(d.goal_amount||1)*100,100):0,R=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),S=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,t.jsxs)("div",{className:"pt-16",children:[(0,t.jsx)("section",{className:"py-12 bg-gray-50 dark:bg-gray-800",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)(j(),{href:"/",children:(0,t.jsxs)(l.$,{variant:"ghost",className:"mb-6 hover:scale-105 transition-transform",children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Back to Home"]})}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)(c.E,{className:"mb-4 bg-[#e51083]",children:d.status||d.urgency}),(0,t.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 animate-fade-in-up",children:d.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 dark:text-gray-400 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Start: ",S(d.start_date)]})]}),d.end_date&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["End: ",S(d.end_date)]})]}),(0,t.jsxs)(l.$,{variant:"ghost",size:"sm",className:"ml-auto hover:scale-105 transition-transform",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Share"]})]}),(d.goal_amount||0)>0&&(0,t.jsx)(i.Zp,{className:"mb-8",children:(0,t.jsxs)(i.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-[#e51083]"}),(0,t.jsx)("span",{className:"font-semibold",children:"Goal"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-[#e51083]",children:R(d.goal_amount||0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(u,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"Raised"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:R(d.raised_amount||0)})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[_.toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-[#e51083] h-3 rounded-full transition-all duration-500",style:{width:"".concat(_,"%")}})})]})]})})]})]})}),(0,t.jsx)("section",{className:"py-12",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-12 animate-fade-in-up",children:(0,t.jsx)(y.default,{src:b(d.feature_image),alt:d.title,width:800,height:500,className:"w-full rounded-lg shadow-lg"})}),(0,t.jsx)("div",{className:"mb-8 animate-fade-in-up animation-delay-200",children:(0,t.jsx)("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:d.description})}),d.content&&(0,t.jsx)("div",{className:"prose prose-lg max-w-none mb-12 animate-fade-in-up animation-delay-300",dangerouslySetInnerHTML:{__html:d.content}}),d.images&&d.images.length>0&&(0,t.jsx)(i.Zp,{className:"mb-12 animate-fade-in-up animation-delay-400",children:(0,t.jsxs)(i.Wu,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Photo Gallery"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:(0,t.jsx)(y.default,{src:b(d.images[a]),alt:"Gallery image ".concat(a+1),fill:!0,className:"object-cover transition-all duration-300"})}),d.images.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{d.images&&d.images.length>0&&s(e=>(e-1+d.images.length)%d.images.length)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white hover:bg-black/70 hover:scale-110 transition-all",children:(0,t.jsx)(g.A,{className:"h-5 w-5"})}),(0,t.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{d.images&&d.images.length>0&&s(e=>(e+1)%d.images.length)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white hover:bg-black/70 hover:scale-110 transition-all",children:(0,t.jsx)(f.A,{className:"h-5 w-5"})})]})]}),d.images.length>1&&(0,t.jsx)("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:d.images.map((e,r)=>(0,t.jsx)("button",{onClick:()=>s(r),className:"flex-shrink-0 w-16 h-16 rounded border-2 overflow-hidden transition-all duration-300 hover:scale-105 ".concat(r===a?"border-[#e51083]":"border-gray-300"),children:(0,t.jsx)(y.default,{src:b(e),alt:"Thumbnail ".concat(r+1),width:64,height:64,className:"w-full h-full object-cover"})},r))}),(0,t.jsxs)("div",{className:"text-center mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Image ",a+1," of ",d.images.length]})]})}),(0,t.jsx)(i.Zp,{className:"bg-[#e51083] text-white animate-fade-in-up animation-delay-600",children:(0,t.jsxs)(i.Wu,{className:"p-8 text-center",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Support This Campaign"}),(0,t.jsx)("p",{className:"mb-6",children:"Your contribution will help us reach our goal and make a real difference in the lives of those we serve."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,t.jsx)(v.DonateButton,{className:"bg-white text-[#e51083] hover:bg-gray-100 hover:scale-105 transition-all"}),(0,t.jsx)(j(),{href:"/contact",children:(0,t.jsx)(l.$,{variant:"outline",className:"w-full border-white text-white hover:bg-white hover:text-[#e51083] bg-transparent hover:scale-105 transition-all",children:"Get Involved"})})]})]})})]})})})]})}},6516:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6785:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},7550:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8145:(e,a,s)=>{"use strict";s.d(a,{E:()=>i});var t=s(5155);s(2115);var r=s(2085),n=s(3999);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:s}),a),...r})}},8482:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>i});var t=s(5155),r=s(2115),n=s(3999);let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},9074:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[455,660,539,874,608,752,441,684,358],()=>a(1076)),_N_E=e.O()}]);