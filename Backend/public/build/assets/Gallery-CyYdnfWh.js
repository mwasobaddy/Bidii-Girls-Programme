import{r as l,j as e,H as C,L as E}from"./app-1-J-Rkvr.js";import{D as I,a as D,d as S}from"./Footer-D5nGiAW4.js";import{B as x}from"./label-BV62W-PP.js";import{G as $}from"./GuestLayout-CEjHs8fn.js";import{C as B}from"./circle-alert-CTpRWOly.js";import"./index-B_wQ5iga.js";const N=window.location.origin+"/api";function y(a){return a?a.startsWith("http")||a.startsWith("data:")?a:`${N.replace("/api","")}${a}`:"/placeholder.svg"}function L({message:a}){return e.jsx("div",{className:"flex items-center justify-center p-8 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"Database Error"}),e.jsx("p",{className:"text-red-600 dark:text-red-300 mb-4",children:a}),e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:"Please check your database connection or contact the administrator."})]})})}function W({auth:a}){const[s,b]=l.useState("all"),[r,g]=l.useState(null),[o,v]=l.useState([]),[h,u]=l.useState(!0),[c,f]=l.useState(null),p=[{name:"All",folder:"all"},{name:"Blog Images",folder:"blog"},{name:"Project Images",folder:"projects"},{name:"Campaign Images",folder:"campaigns"}],j=async()=>{try{u(!0),f(null);const t=await fetch(`${N}/gallery-scan`);if(!t.ok)throw new Error(`Failed to fetch gallery images: ${t.status} ${t.statusText}`);const m=(await t.json()).filter(k=>["blog","projects","campaigns"].includes(k.category));v(m)}catch(t){console.error("Error fetching gallery images:",t),f(t instanceof Error?t.message:"Failed to load gallery images")}finally{u(!1)}};l.useEffect(()=>{j()},[]);const i=t=>{const n=p.find(m=>m.folder===t);return n?n.name:t},w=()=>{j()},d=s==="all"?o:o.filter(t=>t.category===s);return e.jsxs($,{children:[e.jsx(C,{title:"Gallery"}),e.jsxs("div",{children:[e.jsx("section",{className:"py-20 bg-gradient-to-r from-[#e51083] to-pink-600 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Gallery"}),e.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto",children:"Capturing moments of impact, empowerment, and transformation in our communities"})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:p.map(t=>e.jsx(x,{variant:s===t.folder?"default":"outline",onClick:()=>b(t.folder),className:s===t.folder?"bg-[#e51083] hover:bg-[#c50e73]":"hover:bg-[#e51083] hover:text-white",children:t.name},t.folder))}),!h&&!c&&e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Showing ",d.length," of ",o.length," images"]})]})}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:h?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#e51083]"}),e.jsx("p",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading gallery images..."})]}):c?e.jsxs("div",{className:"mb-8",children:[e.jsx(L,{message:c}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(x,{onClick:w,className:"bg-[#e51083] hover:bg-[#c50e73]",children:"Try Again"})})]}):d.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Images Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s==="all"?"No gallery images are currently available.":`No images found in the "${i(s)}" category.`})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((t,n)=>e.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg",onClick:()=>g(t),children:[e.jsx("img",{src:y(t.url),alt:t.name,width:600,height:400,className:"w-full h-64 object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:e.jsxs("div",{className:"text-white",children:[e.jsx("p",{className:"text-sm font-medium",children:t.name}),e.jsx("p",{className:"text-xs opacity-75",children:i(t.category)})]})})]},`${t.category}-${t.name}-${n}`))})})}),e.jsx(I,{open:!!r,onOpenChange:()=>g(null),children:e.jsx(D,{className:"max-w-4xl",children:r&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:y(r.url),alt:r.name,width:800,height:600,className:"w-full h-auto rounded-lg"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i(r.category)})]})]})})}),e.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Be Part of Our Story"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Join us in creating more moments of impact and transformation. Your support helps us reach more girls and communities."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(S,{className:"bg-[#e51083] hover:bg-[#c50e73]"}),e.jsx(E,{href:"/contact",children:e.jsx(x,{variant:"outline",className:"w-full border-[#e51083] text-[#e51083] hover:bg-[#e51083] hover:text-white bg-transparent",children:"Volunteer With Us"})})]})]})})]})]})}export{W as default};
