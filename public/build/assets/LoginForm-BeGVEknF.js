import{r as i,a as m,j as e,H as b}from"./app-1-J-Rkvr.js";import{H as g,L as x,I as h,B as p}from"./label-BV62W-PP.js";import{C as j,b as f,c as y,a as N}from"./card-BY_Q-Zm1.js";import{C as k}from"./circle-alert-CTpRWOly.js";import"./index-B_wQ5iga.js";function v({message:s}){return e.jsx("div",{className:"flex items-center justify-center p-8 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(k,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"Authentication Error"}),e.jsx("p",{className:"text-red-600 dark:text-red-300 mb-4",children:s}),e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:"Please check your credentials or contact the administrator."})]})})}function A(){const[s,n]=i.useState({email:"",password:""}),[r,o]=i.useState(!1),[c,d]=i.useState(null);i.useEffect(()=>{const a=localStorage.getItem("adminToken"),t=localStorage.getItem("adminUser");a&&t&&m.visit("/admin/dashboard")},[]);const u=async a=>{a.preventDefault(),o(!0),d(null);try{const t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)}),l=await t.json();t.ok?(localStorage.setItem("adminToken",l.access_token),localStorage.setItem("adminUser",JSON.stringify(l.user)),alert("Login Successful! Welcome to the admin dashboard!"),m.visit("/admin/dashboard")):d(l.message||"Login failed. Please check your credentials.")}catch(t){console.error("Login error:",t),d("Unable to connect to the authentication server. Please try again later.")}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Bidii Girls Program - Admin Login"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-50 dark:bg-gray-900",children:e.jsxs(j,{className:"w-full max-w-md",children:[e.jsxs(f,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(g,{className:"h-8 w-8 text-[#e51083]"}),e.jsx("span",{className:"text-xl font-bold",children:"Bidii Girls Admin"})]}),e.jsx(y,{className:"text-2xl",children:"Admin Login"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Access the admin dashboard via database authentication"})]}),e.jsx(N,{children:c?e.jsx(v,{message:c}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email Address"}),e.jsx(h,{id:"email",type:"email",placeholder:"admin@bidiigirls.org",value:s.email,onChange:a=>n({...s,email:a.target.value}),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"password",children:"Password"}),e.jsx(h,{id:"password",type:"password",placeholder:"Enter your password",value:s.password,onChange:a=>n({...s,password:a.target.value}),required:!0,disabled:r})]}),e.jsx(p,{type:"submit",className:"w-full",disabled:r,children:r?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"Database Demo Credentials"}),e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," admin@bidiigirls.org"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," admin123"]}),e.jsx("p",{className:"text-blue-500 dark:text-blue-400 mt-2",children:"Note: This authenticates against a real MySQL database with JWT tokens."})]})]})]})})]})})]})}export{A as default};
